<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug Mobile</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #fff;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
    }
    
    .mixed-font span {
      display: inline-block;
      margin: 0 1px;
      transition: font-family 1.5s ease-in-out, 
                  font-weight 1.5s ease-in-out,
                  font-style 1.5s ease-in-out,
                  transform 1.5s ease-in-out,
                  color 1.5s ease-in-out;
    }
    
    .judicael-name {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    
    .debug-info {
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid #333;
      padding: 10px;
      margin-top: 20px;
      border-radius: 5px;
      font-family: monospace;
      white-space: pre-wrap;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .char1 { font-family: 'Times New Roman', serif; font-weight: bold; }
    .char2 { font-family: 'Arial', sans-serif; font-style: italic; }
    .char3 { font-family: 'Courier New', monospace; }
    .char4 { font-family: 'Impact', sans-serif; }
    .char5 { font-family: 'Georgia', serif; font-weight: bold; }
    .char6 { font-family: 'Verdana', sans-serif; }
    .char7 { font-family: 'Trebuchet MS', sans-serif; }
    .char8 { font-family: 'Palatino Linotype', serif; font-style: italic; }
    .char9 { font-family: 'Lucida Console', monospace; }
    .char10 { font-family: 'Garamond', serif; }
    .char11 { font-family: 'Bookman Old Style', serif; }
    .char12 { font-family: 'Century Gothic', sans-serif; }
    .char13 { font-family: 'Copperplate', serif; text-transform: uppercase; }
    .char14 { font-family: 'Brush Script MT', cursive; }
    .char15 { font-family: 'Tahoma', sans-serif; font-weight: bold; }
    .char16 { font-family: 'Didot', serif; }
    .char17 { font-family: 'Optima', sans-serif; }
    .char18 { font-family: 'Arial Black', sans-serif; }
    .char19 { font-family: 'Rockwell', serif; }
    .char20 { font-family: 'Helvetica', sans-serif; }
    .char21 { font-family: 'Baskerville', serif; }
    .char22 { font-family: 'Comic Sans MS', cursive; }
    .char23 { font-family: 'Futura', sans-serif; }
    .char24 { font-family: 'Cambria', serif; }
    .char25 { font-family: 'Consolas', monospace; }
    .char26 { font-family: 'Franklin Gothic Medium', sans-serif; }
  </style>
</head>
<body>
  <div id="judicael-name" class="mixed-font judicael-name"></div>
  <div>Testing mobile compatibility</div>
  <div class="debug-info" id="debug-log">Loading...</div>

  <script>
    const debugLog = document.getElementById('debug-log');
    const MAX_LOG_LINES = 50;
    let logLines = [];
    
    function log(message) {
      console.log(message);
      if (debugLog) {
        logLines.push(message);
        if (logLines.length > MAX_LOG_LINES) {
          logLines.shift();
        }
        debugLog.textContent = logLines.join("\n");
      }
    }

    log("Script started");
    
    let counter = 0;
    let fontInterval = null;
    let isInitialized = false;

    function cleanup() {
      if (fontInterval) {
        clearInterval(fontInterval);
        fontInterval = null;
      }
      isInitialized = false;
    }

    function startNameFontShuffler() {
      try {
        if (isInitialized) {
          log("Already initialized, skipping");
          return;
        }

        cleanup();
        
        const nameElement = document.getElementById('judicael-name');
        log("Name element found: " + (nameElement ? "yes" : "no"));
        
        if (!nameElement) return;
        
        const name = "JUDICAEL";
        nameElement.innerHTML = "";
        
        log("Creating initial spans for " + name);
        
        name.split('').forEach((char, i) => {
          const span = document.createElement('span');
          span.textContent = char;
          span.setAttribute('data-char', char);
          span.classList.add(`char${(i % 26) + 1}`);
          nameElement.appendChild(span);
        });
        
        const chars = nameElement.querySelectorAll('span');
        log(`Created ${chars.length} character spans`);
        
        let currentCharIndex = 0;
        const totalChars = name.length;
        
        function changeNextCharacter() {
          try {
            const currentNameElement = document.getElementById('judicael-name');
            if (!currentNameElement) {
              log("Name element no longer exists");
              cleanup();
              return;
            }
            
            const currentChars = currentNameElement.querySelectorAll('span');
            if (currentChars.length === 0) {
              log("No spans found");
              cleanup();
              return;
            }
            
            const charToChange = currentChars[currentCharIndex];
            const randomClassNum = Math.floor(Math.random() * 26) + 1;
            
            for (let i = 1; i <= 26; i++) {
              charToChange.classList.remove(`char${i}`);
            }
            
            charToChange.classList.add(`char${randomClassNum}`);
            currentCharIndex = (currentCharIndex + 1) % totalChars;
            
            counter++;
            if (counter % 8 === 0) {
              log(`Changed ${counter} characters. Current index: ${currentCharIndex}`);
            }
          } catch (error) {
            log("Error in changeNextCharacter: " + error.message);
            cleanup();
          }
        }
        
        fontInterval = setInterval(changeNextCharacter, 200);
        isInitialized = true;
        log("Font shuffle interval set: " + (fontInterval ? "yes" : "no"));
        
      } catch (error) {
        log("Error in startNameFontShuffler: " + error.message);
        cleanup();
      }
    }

    // Initialize only once
    document.addEventListener('DOMContentLoaded', () => {
      log("DOMContentLoaded event fired");
      startNameFontShuffler();
    });

    // Cleanup on page unload
    window.addEventListener('unload', cleanup);
  </script>
</body>
</html> 